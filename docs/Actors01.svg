<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
    <!-- Background -->
    <rect width="800" height="600" fill="#f8f9fa" />

    <!-- Title -->
    <text x="400" y="30" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold">Streamer Events System Architecture</text>

    <!-- EventManagerActor -->
    <rect x="320" y="70" width="160" height="60" rx="10" ry="10" fill="#4a86e8" />
    <text x="400" y="105" font-family="Arial" font-size="16" fill="white" text-anchor="middle">EventManagerActor</text>

    <!-- StreamerEventActor instances -->
    <rect x="120" y="190" width="160" height="60" rx="10" ry="10" fill="#6aa84f" />
    <text x="200" y="225" font-family="Arial" font-size="16" fill="white" text-anchor="middle">StreamerEventActor 1</text>

    <rect x="320" y="190" width="160" height="60" rx="10" ry="10" fill="#6aa84f" />
    <text x="400" y="225" font-family="Arial" font-size="16" fill="white" text-anchor="middle">StreamerEventActor 2</text>

    <rect x="520" y="190" width="160" height="60" rx="10" ry="10" fill="#6aa84f" />
    <text x="600" y="225" font-family="Arial" font-size="16" fill="white" text-anchor="middle">StreamerEventActor 3</text>

    <!-- UserConnectionActor instances -->
    <rect x="40" y="320" width="140" height="50" rx="10" ry="10" fill="#e69138" />
    <text x="110" y="350" font-family="Arial" font-size="14" fill="white" text-anchor="middle">UserConnection</text>

    <rect x="220" y="320" width="140" height="50" rx="10" ry="10" fill="#e69138" />
    <text x="290" y="350" font-family="Arial" font-size="14" fill="white" text-anchor="middle">UserConnection</text>

    <rect x="400" y="320" width="140" height="50" rx="10" ry="10" fill="#e69138" />
    <text x="470" y="350" font-family="Arial" font-size="14" fill="white" text-anchor="middle">UserConnection</text>

    <rect x="580" y="320" width="140" height="50" rx="10" ry="10" fill="#e69138" />
    <text x="650" y="350" font-family="Arial" font-size="14" fill="white" text-anchor="middle">UserConnection</text>

    <!-- MessageRelay actor -->
    <rect x="320" y="440" width="160" height="60" rx="10" ry="10" fill="#674ea7" />
    <text x="400" y="475" font-family="Arial" font-size="16" fill="white" text-anchor="middle">MessageRelayActor</text>

    <!-- External Systems -->
    <rect x="40" y="510" width="140" height="50" rx="10" ry="10" fill="#999999" stroke="#333333" />
    <text x="110" y="540" font-family="Arial" font-size="14" text-anchor="middle">WebSocket API</text>

    <rect x="580" y="510" width="140" height="50" rx="10" ry="10" fill="#999999" stroke="#333333" />
    <text x="650" y="540" font-family="Arial" font-size="14" text-anchor="middle">Database</text>

    <!-- Lines connecting components -->
    <!-- EventManager to StreamerEvents -->
    <line x1="400" y1="130" x2="200" y2="190" stroke="#333333" stroke-width="2" />
    <line x1="400" y1="130" x2="400" y2="190" stroke="#333333" stroke-width="2" />
    <line x1="400" y1="130" x2="600" y2="190" stroke="#333333" stroke-width="2" />

    <!-- StreamerEvents to UserConnections -->
    <line x1="180" y1="250" x2="110" y2="320" stroke="#333333" stroke-width="2" />
    <line x1="220" y1="250" x2="290" y2="320" stroke="#333333" stroke-width="2" />
    <line x1="400" y1="250" x2="400" y2="320" stroke="#333333" stroke-width="2" />
    <line x1="580" y1="250" x2="470" y2="320" stroke="#333333" stroke-width="2" />
    <line x1="620" y1="250" x2="650" y2="320" stroke="#333333" stroke-width="2" />

    <!-- MessageRelay connections -->
    <line x1="180" y1="250" x2="350" y2="440" stroke="#333333" stroke-width="2" stroke-dasharray="5,5" />
    <line x1="400" y1="250" x2="400" y2="440" stroke="#333333" stroke-width="2" stroke-dasharray="5,5" />
    <line x1="620" y1="250" x2="450" y2="440" stroke="#333333" stroke-width="2" stroke-dasharray="5,5" />

    <!-- External connections -->
    <line x1="110" y1="370" x2="110" y2="510" stroke="#333333" stroke-width="2" />
    <line x1="400" y1="500" x2="650" y2="510" stroke="#333333" stroke-width="2" />

    <!-- Legend -->
    <rect x="600" y="30" width="20" height="20" fill="#4a86e8" />
    <text x="625" y="45" font-family="Arial" font-size="12" text-anchor="start">Manager Actor</text>

    <rect x="600" y="55" width="20" height="20" fill="#6aa84f" />
    <text x="625" y="70" font-family="Arial" font-size="12" text-anchor="start">Event Actor</text>

    <rect x="600" y="80" width="20" height="20" fill="#e69138" />
    <text x="625" y="95" font-family="Arial" font-size="12" text-anchor="start">Connection Actor</text>

    <rect x="600" y="105" width="20" height="20" fill="#674ea7" />
    <text x="625" y="120" font-family="Arial" font-size="12" text-anchor="start">Message Actor</text>
</svg>